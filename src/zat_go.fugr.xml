<?xml version="1.0" encoding="utf-8"?>
<abapGit version="v1.0.0" serializer="LCL_OBJECT_FUGR" serializer_version="v1.0.0">
 <asx:abap xmlns:asx="http://www.sap.com/abapxml" version="1.0">
  <asx:values>
   <AREAT>执行函数组</AREAT>
   <INCLUDES>
    <SOBJ_NAME>LZAT_GOF01</SOBJ_NAME>
    <SOBJ_NAME>LZAT_GOF02</SOBJ_NAME>
    <SOBJ_NAME>LZAT_GOF03</SOBJ_NAME>
    <SOBJ_NAME>LZAT_GOFZZ</SOBJ_NAME>
    <SOBJ_NAME>LZAT_GOTOP</SOBJ_NAME>
    <SOBJ_NAME>SAPLZAT_GO</SOBJ_NAME>
   </INCLUDES>
   <FUNCTIONS>
    <item>
     <FUNCNAME>ZAT_CANCEL</FUNCNAME>
     <REMOTE_CALL>R</REMOTE_CALL>
     <SHORT_TEXT>冲销记录</SHORT_TEXT>
     <IMPORT>
      <RSIMP>
       <PARAMETER>IV_EXORD</PARAMETER>
       <OPTIONAL>X</OPTIONAL>
       <TYP>ZATD_EXORD</TYP>
      </RSIMP>
      <RSIMP>
       <PARAMETER>IV_ATNO</PARAMETER>
       <OPTIONAL>X</OPTIONAL>
       <TYP>ZATD_ATNO</TYP>
      </RSIMP>
      <RSIMP>
       <PARAMETER>IV_TYPE</PARAMETER>
       <TYP>ZATD_TYPE</TYP>
      </RSIMP>
      <RSIMP>
       <PARAMETER>IV_BUDAT</PARAMETER>
       <TYP>BUDAT</TYP>
      </RSIMP>
     </IMPORT>
     <TABLES>
      <RSTBL>
       <PARAMETER>ET_RETURN</PARAMETER>
       <DBSTRUCT>BAPIRET2</DBSTRUCT>
       <OPTIONAL>X</OPTIONAL>
      </RSTBL>
     </TABLES>
     <DOCUMENTATION>
      <RSFDO>
       <PARAMETER>IV_EXORD</PARAMETER>
       <KIND>P</KIND>
       <STEXT>外部单号</STEXT>
      </RSFDO>
      <RSFDO>
       <PARAMETER>IV_ATNO</PARAMETER>
       <KIND>P</KIND>
       <STEXT>交易单号</STEXT>
      </RSFDO>
      <RSFDO>
       <PARAMETER>IV_TYPE</PARAMETER>
       <KIND>P</KIND>
       <STEXT>交易类型</STEXT>
      </RSFDO>
      <RSFDO>
       <PARAMETER>IV_BUDAT</PARAMETER>
       <KIND>P</KIND>
       <STEXT>凭证中的过账日期</STEXT>
      </RSFDO>
      <RSFDO>
       <PARAMETER>ET_RETURN</PARAMETER>
       <KIND>P</KIND>
       <STEXT>返回参数</STEXT>
      </RSFDO>
     </DOCUMENTATION>
    </item>
    <item>
     <FUNCNAME>ZAT_CHECK</FUNCNAME>
     <SHORT_TEXT>创建自动单据</SHORT_TEXT>
     <IMPORT>
      <RSIMP>
       <PARAMETER>IV_TYPE</PARAMETER>
       <TYP>ZATD_TYPE</TYP>
      </RSIMP>
      <RSIMP>
       <PARAMETER>IS_HEAD</PARAMETER>
       <TYP>ZATS_BAPI_HEAD</TYP>
      </RSIMP>
     </IMPORT>
     <TABLES>
      <RSTBL>
       <PARAMETER>IT_ITEM</PARAMETER>
       <DBSTRUCT>ZATS_BAPI_ITEM</DBSTRUCT>
      </RSTBL>
      <RSTBL>
       <PARAMETER>ET_RETURN</PARAMETER>
       <DBSTRUCT>BAPIRET2</DBSTRUCT>
       <OPTIONAL>X</OPTIONAL>
      </RSTBL>
     </TABLES>
     <DOCUMENTATION>
      <RSFDO>
       <PARAMETER>IV_TYPE</PARAMETER>
       <KIND>P</KIND>
       <STEXT>交易类型</STEXT>
      </RSFDO>
      <RSFDO>
       <PARAMETER>IS_HEAD</PARAMETER>
       <KIND>P</KIND>
       <STEXT>自动交易抬头表</STEXT>
      </RSFDO>
      <RSFDO>
       <PARAMETER>IT_ITEM</PARAMETER>
       <KIND>P</KIND>
       <STEXT>自动交易项目表</STEXT>
      </RSFDO>
      <RSFDO>
       <PARAMETER>ET_RETURN</PARAMETER>
       <KIND>P</KIND>
       <STEXT>返回参数</STEXT>
      </RSFDO>
     </DOCUMENTATION>
    </item>
    <item>
     <FUNCNAME>ZAT_CHECK_VALUE</FUNCNAME>
     <SHORT_TEXT>校验字段合规性</SHORT_TEXT>
     <IMPORT>
      <RSIMP>
       <PARAMETER>LINE</PARAMETER>
       <OPTIONAL>X</OPTIONAL>
       <REFERENCE>X</REFERENCE>
      </RSIMP>
     </IMPORT>
     <TABLES>
      <RSTBL>
       <PARAMETER>TAB</PARAMETER>
       <OPTIONAL>X</OPTIONAL>
      </RSTBL>
      <RSTBL>
       <PARAMETER>RULE</PARAMETER>
       <DBSTRUCT>ZATS_CHECK_RULE</DBSTRUCT>
      </RSTBL>
      <RSTBL>
       <PARAMETER>RET</PARAMETER>
       <DBSTRUCT>BAPIRET2</DBSTRUCT>
      </RSTBL>
     </TABLES>
     <DOCUMENTATION>
      <RSFDO>
       <PARAMETER>LINE</PARAMETER>
       <KIND>P</KIND>
      </RSFDO>
      <RSFDO>
       <PARAMETER>TAB</PARAMETER>
       <KIND>P</KIND>
      </RSFDO>
      <RSFDO>
       <PARAMETER>RULE</PARAMETER>
       <KIND>P</KIND>
       <STEXT>检查规则</STEXT>
      </RSFDO>
      <RSFDO>
       <PARAMETER>RET</PARAMETER>
       <KIND>P</KIND>
       <STEXT>返回参数</STEXT>
      </RSFDO>
     </DOCUMENTATION>
    </item>
    <item>
     <FUNCNAME>ZAT_CLEAR</FUNCNAME>
     <SHORT_TEXT>清空全局变量</SHORT_TEXT>
    </item>
    <item>
     <FUNCNAME>ZAT_CREATE</FUNCNAME>
     <REMOTE_CALL>R</REMOTE_CALL>
     <SHORT_TEXT>创建自动单据</SHORT_TEXT>
     <IMPORT>
      <RSIMP>
       <PARAMETER>IS_HEAD</PARAMETER>
       <DBFIELD>ZATS_BAPI_HEAD</DBFIELD>
      </RSIMP>
     </IMPORT>
     <EXPORT>
      <RSEXP>
       <PARAMETER>E_ATNO</PARAMETER>
       <DBFIELD>ZATT_HEAD-ATNO</DBFIELD>
      </RSEXP>
      <RSEXP>
       <PARAMETER>E_STATUS</PARAMETER>
       <DBFIELD>ZATT_HEAD-STATUS</DBFIELD>
      </RSEXP>
     </EXPORT>
     <TABLES>
      <RSTBL>
       <PARAMETER>IT_ITEM</PARAMETER>
       <DBSTRUCT>ZATS_BAPI_ITEM</DBSTRUCT>
      </RSTBL>
      <RSTBL>
       <PARAMETER>ET_RETURN</PARAMETER>
       <DBSTRUCT>BAPIRET2</DBSTRUCT>
      </RSTBL>
     </TABLES>
     <DOCUMENTATION>
      <RSFDO>
       <PARAMETER>IS_HEAD</PARAMETER>
       <KIND>P</KIND>
       <STEXT>自动交易抬头表</STEXT>
      </RSFDO>
      <RSFDO>
       <PARAMETER>E_ATNO</PARAMETER>
       <KIND>P</KIND>
       <STEXT>交易单号</STEXT>
      </RSFDO>
      <RSFDO>
       <PARAMETER>E_STATUS</PARAMETER>
       <KIND>P</KIND>
       <STEXT>交易状态</STEXT>
      </RSFDO>
      <RSFDO>
       <PARAMETER>IT_ITEM</PARAMETER>
       <KIND>P</KIND>
       <STEXT>自动交易项目表</STEXT>
      </RSFDO>
      <RSFDO>
       <PARAMETER>ET_RETURN</PARAMETER>
       <KIND>P</KIND>
       <STEXT>返回参数</STEXT>
      </RSFDO>
     </DOCUMENTATION>
    </item>
    <item>
     <FUNCNAME>ZAT_CREATE_IDOC_INPUT</FUNCNAME>
     <SHORT_TEXT>IDoc -&gt; BAPI: ZAT_CREATE_IDOC_INPUT</SHORT_TEXT>
     <IMPORT>
      <RSIMP>
       <PARAMETER>INPUT_METHOD</PARAMETER>
       <DBFIELD>BDWFAP_PAR-INPUTMETHD</DBFIELD>
      </RSIMP>
      <RSIMP>
       <PARAMETER>MASS_PROCESSING</PARAMETER>
       <DBFIELD>BDWFAP_PAR-MASS_PROC</DBFIELD>
      </RSIMP>
     </IMPORT>
     <EXPORT>
      <RSEXP>
       <PARAMETER>WORKFLOW_RESULT</PARAMETER>
       <DBFIELD>BDWF_PARAM-RESULT</DBFIELD>
      </RSEXP>
      <RSEXP>
       <PARAMETER>APPLICATION_VARIABLE</PARAMETER>
       <DBFIELD>BDWF_PARAM-APPL_VAR</DBFIELD>
      </RSEXP>
      <RSEXP>
       <PARAMETER>IN_UPDATE_TASK</PARAMETER>
       <DBFIELD>BDWFAP_PAR-UPDATETASK</DBFIELD>
      </RSEXP>
      <RSEXP>
       <PARAMETER>CALL_TRANSACTION_DONE</PARAMETER>
       <DBFIELD>BDWFAP_PAR-CALLTRANS</DBFIELD>
      </RSEXP>
     </EXPORT>
     <TABLES>
      <RSTBL>
       <PARAMETER>IDOC_CONTRL</PARAMETER>
       <DBSTRUCT>EDIDC</DBSTRUCT>
      </RSTBL>
      <RSTBL>
       <PARAMETER>IDOC_DATA</PARAMETER>
       <DBSTRUCT>EDIDD</DBSTRUCT>
      </RSTBL>
      <RSTBL>
       <PARAMETER>IDOC_STATUS</PARAMETER>
       <DBSTRUCT>BDIDOCSTAT</DBSTRUCT>
      </RSTBL>
      <RSTBL>
       <PARAMETER>RETURN_VARIABLES</PARAMETER>
       <DBSTRUCT>BDWFRETVAR</DBSTRUCT>
      </RSTBL>
      <RSTBL>
       <PARAMETER>SERIALIZATION_INFO</PARAMETER>
       <DBSTRUCT>BDI_SER</DBSTRUCT>
      </RSTBL>
     </TABLES>
     <EXCEPTION>
      <RSEXC>
       <EXCEPTION>WRONG_FUNCTION_CALLED</EXCEPTION>
      </RSEXC>
     </EXCEPTION>
     <DOCUMENTATION>
      <RSFDO>
       <PARAMETER>INPUT_METHOD</PARAMETER>
       <KIND>P</KIND>
      </RSFDO>
      <RSFDO>
       <PARAMETER>MASS_PROCESSING</PARAMETER>
       <KIND>P</KIND>
      </RSFDO>
      <RSFDO>
       <PARAMETER>WORKFLOW_RESULT</PARAMETER>
       <KIND>P</KIND>
      </RSFDO>
      <RSFDO>
       <PARAMETER>APPLICATION_VARIABLE</PARAMETER>
       <KIND>P</KIND>
      </RSFDO>
      <RSFDO>
       <PARAMETER>IN_UPDATE_TASK</PARAMETER>
       <KIND>P</KIND>
      </RSFDO>
      <RSFDO>
       <PARAMETER>CALL_TRANSACTION_DONE</PARAMETER>
       <KIND>P</KIND>
      </RSFDO>
      <RSFDO>
       <PARAMETER>IDOC_CONTRL</PARAMETER>
       <KIND>P</KIND>
      </RSFDO>
      <RSFDO>
       <PARAMETER>IDOC_DATA</PARAMETER>
       <KIND>P</KIND>
      </RSFDO>
      <RSFDO>
       <PARAMETER>IDOC_STATUS</PARAMETER>
       <KIND>P</KIND>
      </RSFDO>
      <RSFDO>
       <PARAMETER>RETURN_VARIABLES</PARAMETER>
       <KIND>P</KIND>
      </RSFDO>
      <RSFDO>
       <PARAMETER>SERIALIZATION_INFO</PARAMETER>
       <KIND>P</KIND>
      </RSFDO>
      <RSFDO>
       <PARAMETER>WRONG_FUNCTION_CALLED</PARAMETER>
       <KIND>X</KIND>
      </RSFDO>
     </DOCUMENTATION>
    </item>
    <item>
     <FUNCNAME>ZAT_CREATE_IDOC_OUTPUT</FUNCNAME>
     <SHORT_TEXT>BAPI -&gt; IDoc: ZAT_CREATE_IDOC_OUTPUT</SHORT_TEXT>
     <IMPORT>
      <RSIMP>
       <PARAMETER>ISHEAD</PARAMETER>
       <DBFIELD>ZATS_BAPI_HEAD</DBFIELD>
      </RSIMP>
      <RSIMP>
       <PARAMETER>OBJ_TYPE</PARAMETER>
       <DBFIELD>SERIAL-OBJ_TYPE</DBFIELD>
       <DEFAULT>&apos;ZAT&apos;</DEFAULT>
       <OPTIONAL>X</OPTIONAL>
      </RSIMP>
      <RSIMP>
       <PARAMETER>SERIAL_ID</PARAMETER>
       <DBFIELD>SERIAL-CHNUM</DBFIELD>
       <DEFAULT>&apos;0&apos;</DEFAULT>
       <OPTIONAL>X</OPTIONAL>
      </RSIMP>
     </IMPORT>
     <TABLES>
      <RSTBL>
       <PARAMETER>ITITEM</PARAMETER>
       <DBSTRUCT>ZATS_BAPI_ITEM</DBSTRUCT>
      </RSTBL>
      <RSTBL>
       <PARAMETER>RECEIVERS</PARAMETER>
       <DBSTRUCT>BDI_LOGSYS</DBSTRUCT>
      </RSTBL>
      <RSTBL>
       <PARAMETER>COMMUNICATION_DOCUMENTS</PARAMETER>
       <DBSTRUCT>SWOTOBJID</DBSTRUCT>
       <OPTIONAL>X</OPTIONAL>
      </RSTBL>
      <RSTBL>
       <PARAMETER>APPLICATION_OBJECTS</PARAMETER>
       <DBSTRUCT>SWOTOBJID</DBSTRUCT>
       <OPTIONAL>X</OPTIONAL>
      </RSTBL>
     </TABLES>
     <EXCEPTION>
      <RSEXC>
       <EXCEPTION>ERROR_CREATING_IDOCS</EXCEPTION>
      </RSEXC>
     </EXCEPTION>
     <DOCUMENTATION>
      <RSFDO>
       <PARAMETER>ISHEAD</PARAMETER>
       <KIND>P</KIND>
      </RSFDO>
      <RSFDO>
       <PARAMETER>OBJ_TYPE</PARAMETER>
       <KIND>P</KIND>
      </RSFDO>
      <RSFDO>
       <PARAMETER>SERIAL_ID</PARAMETER>
       <KIND>P</KIND>
      </RSFDO>
      <RSFDO>
       <PARAMETER>ITITEM</PARAMETER>
       <KIND>P</KIND>
      </RSFDO>
      <RSFDO>
       <PARAMETER>RECEIVERS</PARAMETER>
       <KIND>P</KIND>
      </RSFDO>
      <RSFDO>
       <PARAMETER>COMMUNICATION_DOCUMENTS</PARAMETER>
       <KIND>P</KIND>
      </RSFDO>
      <RSFDO>
       <PARAMETER>APPLICATION_OBJECTS</PARAMETER>
       <KIND>P</KIND>
      </RSFDO>
      <RSFDO>
       <PARAMETER>ERROR_CREATING_IDOCS</PARAMETER>
       <KIND>X</KIND>
      </RSFDO>
     </DOCUMENTATION>
    </item>
    <item>
     <FUNCNAME>ZAT_DOMA_GET</FUNCNAME>
     <SHORT_TEXT>获取元素域值</SHORT_TEXT>
     <IMPORT>
      <RSIMP>
       <PARAMETER>SPRAS</PARAMETER>
       <DEFAULT>&apos;1&apos;</DEFAULT>
       <OPTIONAL>X</OPTIONAL>
       <REFERENCE>X</REFERENCE>
       <TYP>SPRAS</TYP>
      </RSIMP>
     </IMPORT>
     <TABLES>
      <RSTBL>
       <PARAMETER>DD04VV</PARAMETER>
       <DBSTRUCT>DD04VV</DBSTRUCT>
      </RSTBL>
      <RSTBL>
       <PARAMETER>DD04T</PARAMETER>
       <DBSTRUCT>DD04T</DBSTRUCT>
       <OPTIONAL>X</OPTIONAL>
      </RSTBL>
      <RSTBL>
       <PARAMETER>DOMA_VALUE</PARAMETER>
       <DBSTRUCT>ZATS_DOMA_VALUE</DBSTRUCT>
      </RSTBL>
     </TABLES>
     <DOCUMENTATION>
      <RSFDO>
       <PARAMETER>SPRAS</PARAMETER>
       <KIND>P</KIND>
       <STEXT>语言代码</STEXT>
      </RSFDO>
      <RSFDO>
       <PARAMETER>DD04VV</PARAMETER>
       <KIND>P</KIND>
       <STEXT>Generated Table for View</STEXT>
      </RSFDO>
      <RSFDO>
       <PARAMETER>DD04T</PARAMETER>
       <KIND>P</KIND>
       <STEXT>  R/3 DD:数据单元文本</STEXT>
      </RSFDO>
      <RSFDO>
       <PARAMETER>DOMA_VALUE</PARAMETER>
       <KIND>P</KIND>
       <STEXT>Generated Table for View</STEXT>
      </RSFDO>
     </DOCUMENTATION>
    </item>
    <item>
     <FUNCNAME>ZAT_DOMA_VALUE_GET</FUNCNAME>
     <SHORT_TEXT>获取元素域值</SHORT_TEXT>
     <IMPORT>
      <RSIMP>
       <PARAMETER>SPRAS</PARAMETER>
       <DEFAULT>&apos;1&apos;</DEFAULT>
       <OPTIONAL>X</OPTIONAL>
       <REFERENCE>X</REFERENCE>
       <TYP>SPRAS</TYP>
      </RSIMP>
     </IMPORT>
     <TABLES>
      <RSTBL>
       <PARAMETER>DD04VV</PARAMETER>
       <DBSTRUCT>DD04VV</DBSTRUCT>
      </RSTBL>
      <RSTBL>
       <PARAMETER>DD04T</PARAMETER>
       <DBSTRUCT>DD04T</DBSTRUCT>
       <OPTIONAL>X</OPTIONAL>
      </RSTBL>
      <RSTBL>
       <PARAMETER>DOMA_VALUE</PARAMETER>
       <DBSTRUCT>ZATS_DOMA_VALUE</DBSTRUCT>
      </RSTBL>
     </TABLES>
     <DOCUMENTATION>
      <RSFDO>
       <PARAMETER>SPRAS</PARAMETER>
       <KIND>P</KIND>
       <STEXT>语言代码</STEXT>
      </RSFDO>
      <RSFDO>
       <PARAMETER>DD04VV</PARAMETER>
       <KIND>P</KIND>
       <STEXT>Generated Table for View</STEXT>
      </RSFDO>
      <RSFDO>
       <PARAMETER>DD04T</PARAMETER>
       <KIND>P</KIND>
       <STEXT>  R/3 DD:数据单元文本</STEXT>
      </RSFDO>
      <RSFDO>
       <PARAMETER>DOMA_VALUE</PARAMETER>
       <KIND>P</KIND>
       <STEXT>Generated Table for View</STEXT>
      </RSFDO>
     </DOCUMENTATION>
    </item>
    <item>
     <FUNCNAME>ZAT_POST</FUNCNAME>
     <SHORT_TEXT>创建自动单据</SHORT_TEXT>
     <IMPORT>
      <RSIMP>
       <PARAMETER>IV_TYPE</PARAMETER>
       <TYP>ZATD_TYPE</TYP>
      </RSIMP>
      <RSIMP>
       <PARAMETER>IV_ATNO</PARAMETER>
       <TYP>ZATD_ATNO</TYP>
      </RSIMP>
      <RSIMP>
       <PARAMETER>IV_BUDAT</PARAMETER>
       <TYP>BUDAT</TYP>
      </RSIMP>
     </IMPORT>
     <EXPORT>
      <RSEXP>
       <PARAMETER>E_STATUS</PARAMETER>
       <TYP>ZATD_STATUS</TYP>
      </RSEXP>
     </EXPORT>
     <TABLES>
      <RSTBL>
       <PARAMETER>ET_RETURN</PARAMETER>
       <DBSTRUCT>BAPIRET2</DBSTRUCT>
       <OPTIONAL>X</OPTIONAL>
      </RSTBL>
     </TABLES>
     <DOCUMENTATION>
      <RSFDO>
       <PARAMETER>IV_TYPE</PARAMETER>
       <KIND>P</KIND>
       <STEXT>交易类型</STEXT>
      </RSFDO>
      <RSFDO>
       <PARAMETER>IV_ATNO</PARAMETER>
       <KIND>P</KIND>
      </RSFDO>
      <RSFDO>
       <PARAMETER>IV_BUDAT</PARAMETER>
       <KIND>P</KIND>
       <STEXT>凭证中的过账日期</STEXT>
      </RSFDO>
      <RSFDO>
       <PARAMETER>E_STATUS</PARAMETER>
       <KIND>P</KIND>
       <STEXT>交易状态</STEXT>
      </RSFDO>
      <RSFDO>
       <PARAMETER>ET_RETURN</PARAMETER>
       <KIND>P</KIND>
       <STEXT>返回参数</STEXT>
      </RSFDO>
     </DOCUMENTATION>
    </item>
    <item>
     <FUNCNAME>ZAT_TRAN_MB_DOC</FUNCNAME>
     <SHORT_TEXT>返回物料凭证号</SHORT_TEXT>
     <IMPORT>
      <RSIMP>
       <PARAMETER>MBLNR</PARAMETER>
       <TYP>MBLNR</TYP>
      </RSIMP>
      <RSIMP>
       <PARAMETER>MJAHR</PARAMETER>
       <TYP>MJAHR</TYP>
      </RSIMP>
     </IMPORT>
     <DOCUMENTATION>
      <RSFDO>
       <PARAMETER>MBLNR</PARAMETER>
       <KIND>P</KIND>
       <STEXT>物料凭证编号</STEXT>
      </RSFDO>
      <RSFDO>
       <PARAMETER>MJAHR</PARAMETER>
       <KIND>P</KIND>
       <STEXT>物料凭证的年份</STEXT>
      </RSFDO>
     </DOCUMENTATION>
    </item>
   </FUNCTIONS>
   <LONGTEXTS_ZAT_CREATE_IDOC_INPUT>
    <item>
     <DOKIL>
      <ID>FU</ID>
      <OBJECT>ZAT_CREATE_IDOC_INPUT</OBJECT>
      <LANGU>1</LANGU>
      <TYP>T</TYP>
      <VERSION>0001</VERSION>
      <MASTERLANG>X</MASTERLANG>
      <TXTLINES>00025</TXTLINES>
      <DOKSTATE>A</DOKSTATE>
     </DOKIL>
     <HEAD>
      <TDOBJECT>DOKU</TDOBJECT>
      <TDNAME>ZAT_CREATE_IDOC_INPUT</TDNAME>
      <TDID>FU</TDID>
      <TDSPRAS>1</TDSPRAS>
      <TDFORM>S_DOCU_SHOW</TDFORM>
      <TDSTYLE>S_DOCUS1</TDSTYLE>
      <TDVERSION>00001</TDVERSION>
      <TDLINESIZE>072</TDLINESIZE>
     </HEAD>
     <LINES>
      <TLINE>
       <TDFORMAT>U1</TDFORMAT>
       <TDLINE>&amp;FUNCTIONALITY&amp;</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
       <TDLINE>此函数模块生成自</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>/</TDFORMAT>
       <TDLINE>对象 &lt;LS&gt;ZAT&lt;/&gt; 和方法 &lt;LS&gt;ZATCREATE&lt;/&gt;</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>/</TDFORMAT>
       <TDLINE>，可使用 ALE 进行 BAPI 调用。</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
       <TDLINE>该模块的接口定义为 ALE 中的标准 API。数据由 ALE 层提供。</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
       <TDLINE>该函数模块由 ALE 层在入站系统中执行。它可以将数据从 IDoc 转换为 BAPI 参</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>数，并在入站系统中调用 BAPI。有关此 BAPI 的详细信息，请参阅 &gt;&gt;&gt;&gt;DOCULINK</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>&lt;(&gt;&lt;&lt;)&gt;&lt;(&gt;&lt;&lt;)&gt;&lt;(&gt;&lt;&lt;)&gt;&lt;(&gt;&lt;&lt;)&gt;。</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
       <TDLINE>执行此模块时，会写入新 IDoc 状态。此状态可指明 BAPI 的调用结果，即：已在</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>此系统中成功调用 BAPI（状态 53）或出现错误（状态 51）。</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
       <TDLINE>BAPI 返回参数决定 ALE 层如何写入 IDoc 状态。如果发生错误，则由 ALE 层负</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>责。BAPI 返回参数的作用方式：</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AL</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>B1</TDFORMAT>
       <TDLINE>如果 BAPI 返回参数为导出参数，则仅写入一条 IDoc 状态记录。如果消息类型为</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE> A 或 E ，则将为 IDoc 指定状态 51（应用程序文档未传递）。否则（对于消息</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>类型 W、I 或 S），将为 IDoc 指定状态 53（应用程序文档已传递）。</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AL</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>B1</TDFORMAT>
       <TDLINE>如果 BAPI 返回参数为表参数，则会写入多条 IDoc 状态记录。具体 IDoc 状态取</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>决于消息类型。如果消息在表中的类型为 A 或 E，则将为除了类型 S 之外的所有</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>条目（类型为 A、E、W 或 I 的条目）的 IDoc 写入状态 51（应用程序文档未传</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>递）。对于类型为 &apos;S&apos; 的消息，将不显示任何 IDoc 状态。如果消息在表中的类</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>型为 &apos;A&apos; 或 &apos;E&apos;，则将为 &apos;W&apos;、&apos;I&apos; 或 &apos;S&apos; 写入状态 &apos;53&apos;（应用程序文档已传</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>递）。状态记录将按消息在返回参数中的顺序写入数据库。</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>B1</TDFORMAT>
       <TDLINE>如果返回参数为空，则 BAPI 调用成功。此时，ALE 层会写入一条状态为 53（应</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>用程序文档已传递）的 IDoc 状态记录。</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
       <TDLINE>如果发生错误，则应用程序必须通过如回滚不必要的更改等方式确保数据的一致性</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>。</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
       <TDLINE>您可以使用 ALE 错误处理功能（创建工作项目）处理任何错误。</TDLINE>
      </TLINE>
     </LINES>
    </item>
   </LONGTEXTS_ZAT_CREATE_IDOC_INPUT>
   <LONGTEXTS_ZAT_CREATE_IDOC_OUTPUT>
    <item>
     <DOKIL>
      <ID>FU</ID>
      <OBJECT>ZAT_CREATE_IDOC_OUTPUT</OBJECT>
      <LANGU>1</LANGU>
      <TYP>T</TYP>
      <VERSION>0001</VERSION>
      <MASTERLANG>X</MASTERLANG>
      <TXTLINES>00020</TXTLINES>
      <DOKSTATE>A</DOKSTATE>
     </DOKIL>
     <HEAD>
      <TDOBJECT>DOKU</TDOBJECT>
      <TDNAME>ZAT_CREATE_IDOC_OUTPUT</TDNAME>
      <TDID>FU</TDID>
      <TDSPRAS>1</TDSPRAS>
      <TDFORM>S_DOCU_SHOW</TDFORM>
      <TDSTYLE>S_DOCUS1</TDSTYLE>
      <TDVERSION>00001</TDVERSION>
      <TDLINESIZE>072</TDLINESIZE>
     </HEAD>
     <LINES>
      <TLINE>
       <TDFORMAT>U1</TDFORMAT>
       <TDLINE>&amp;FUNCTIONALITY&amp;</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
       <TDLINE>此函数模块生成自</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>/</TDFORMAT>
       <TDLINE>对象 &lt;LS&gt;ZAT&lt;/&gt; 和方法 &lt;LS&gt;ZATCREATE&lt;/&gt;</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>/</TDFORMAT>
       <TDLINE>，可使用 ALE 进行 BAPI 调用。</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
       <TDLINE>此函数模块在源系统中执行。首先，它将数据从 BAPI 参数转换为 IDoc 格式。然</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>后将 IDoc 发送到相关接收方。随后调用 BAPI。</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
       <TDLINE>此函数模块的接口包含相应 BAPI 函数模块中的所有输出参数</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
       <TDLINE>&gt;&gt;&gt;&gt;DOCULINK&lt;(&gt;&lt;&lt;)&gt;&lt;(&gt;&lt;&lt;)&gt;&lt;(&gt;&lt;&lt;)&gt;&lt;(&gt;&lt;&lt;)&gt;</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
       <TDLINE>和以下参数（用于 ALE 层）：</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>/</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>B1</TDFORMAT>
       <TDLINE>&lt;LS&gt;SERIAL_ID&lt;/&gt;</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AL</TDFORMAT>
       <TDLINE>此导入参数包含&lt;DS:DE.CHNUM&gt;通道号&lt;/&gt;且仅在激活序列化时使用。</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>B1</TDFORMAT>
       <TDLINE>&lt;LS&gt;RECEIVERS&lt;/&gt;</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AL</TDFORMAT>
       <TDLINE>此参数包含&lt;DS:DE.LOGSYS&gt;逻辑系统&lt;/&gt;（接收方）的名称，将在此调用 BAPI。</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>B1</TDFORMAT>
       <TDLINE>&lt;LS&gt;COMMUNICATION_DOCUMENTS&lt;/&gt;</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AL</TDFORMAT>
       <TDLINE>此返回表包含 LOGSYS 字段中的逻辑系统名称、OBJTYPE 字段中的对象类型和 OBJ</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>KEY 字段中的对象键值。该表可指示是否已使用此键值为此逻辑系统创建类型为</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE> &lt;LS&gt;IDOC&lt;/&gt; 的对象。</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>B1</TDFORMAT>
       <TDLINE>&lt;LS&gt;APPLICATION_OBJECTS&lt;/&gt;</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AL</TDFORMAT>
       <TDLINE>此输入表包含由 BAPI 调用来处理的应用程序对象。在字段 LOGSYS 中，输入这些</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>应用程序对象所在的逻辑系统的名称。应用程序对象通过对象类型 OBJTYP 和对象</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>键值 OBJKEY 标识。它们均与出站 IDoc 相链接。</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>/</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>U1</TDFORMAT>
       <TDLINE>&amp;EXAMPLE&amp;</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>/</TDFORMAT>
      </TLINE>
     </LINES>
    </item>
   </LONGTEXTS_ZAT_CREATE_IDOC_OUTPUT>
  </asx:values>
 </asx:abap>
</abapGit>
